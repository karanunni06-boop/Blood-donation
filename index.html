<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BloodConnect - Connecting donors, saving lives">
    <meta name="theme-color" content="#667eea">
    <title>BloodConnect - Save Lives</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BloodConnect">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="heart">‚ù§</span> BloodConnect</h1>
            <p>Connecting donors, saving lives</p>
        </header>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="totalDonors">0</div>
                <div class="stat-label">Total Donors</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="todayDonors">0</div>
                <div class="stat-label">Today's Donors</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="livesSaved">0</div>
                <div class="stat-label">Lives Saved</div>
            </div>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2>Register as Donor</h2>
                <div class="success-message" id="successMessage">
                    ‚úì Successfully registered as a donor!
                </div>
                <form id="donorForm">
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" required placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="number" id="age" required placeholder="Enter your age" min="18" max="65">
                    </div>
                    <div class="form-group">
                        <label for="bloodType">Blood Type</label>
                        <select id="bloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" required placeholder="Enter your phone number">
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" id="city" required placeholder="Enter your city">
                    </div>
                    <button type="submit" class="btn">Register Now</button>
                </form>
            </div>

            <div class="donors-section">
                <h2>Active Donors</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç Search by name, blood type, or city...">
                </div>
                <div class="donor-list" id="donorList">
                    <div class="empty-state">
                        <div class="empty-state-icon">ü©∏</div>
                        <p>No donors registered yet. Be the first to save lives!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Help Center Button -->
    <button class="help-button" id="helpButton" onclick="openHelpCenter()">
        ‚ùì
    </button>

    <!-- Help Center Modal -->
    <div class="help-modal" id="helpModal">
        <div class="help-modal-content">
            <span class="close-help" onclick="closeHelpCenter()">&times;</span>
            <h2>Help Center</h2>
            <p>Need assistance? We're here to help!</p>
            
            <div class="help-options">
                <div class="help-option" onclick="showContactForm()">
                    <div class="help-icon">üìß</div>
                    <h3>Email Support</h3>
                    <p>Send us a message</p>
                </div>
                
                <div class="help-option" onclick="showFAQ()">
                    <div class="help-icon">üí¨</div>
                    <h3>FAQ</h3>
                    <p>Common questions</p>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="contact-form-container" id="contactFormContainer" style="display: none;">
                <button class="back-button" onclick="hideContactForm()">‚Üê Back</button>
                <h3>Contact Support</h3>
                <form id="contactForm" onsubmit="sendSupportEmail(event)">
                    <div class="form-group">
                        <label for="userName">Your Name</label>
                        <input type="text" id="userName" required placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="userEmail">Your Email</label>
                        <input type="email" id="userEmail" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="issueType">Issue Type</label>
                        <select id="issueType" required>
                            <option value="">Select issue type</option>
                            <option value="Technical Issue">Technical Issue</option>
                            <option value="Registration Problem">Registration Problem</option>
                            <option value="Call Feature Not Working">Call Feature Not Working</option>
                            <option value="Suggestion">Suggestion</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" rows="5" required placeholder="Describe your issue or question..."></textarea>
                    </div>
                    <button type="submit" class="btn">Send Message</button>
                </form>
                <div class="direct-email">
                    <p>Or email us directly at:</p>
                    <a href="mailto:karan.unni06@gmail.com">karan.unni06@gmail.com</a>
                </div>
            </div>

            <!-- FAQ Section -->
            <div class="faq-container" id="faqContainer" style="display: none;">
                <button class="back-button" onclick="hideFAQ()">‚Üê Back</button>
                <h3>Frequently Asked Questions</h3>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I register as a donor?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        Fill out the registration form on the left side with your details including name, age, blood type, phone number, and city. Click "Register Now" to complete.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How does the call feature work?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        Click on any donor card and tap the green "Call" button. Your phone's dialer will open with the donor's number ready to call.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I search for specific blood types?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        Yes! Use the search box above the donor list. You can search by name, blood type, or city.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Is my information secure?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        Yes, we take privacy seriously. Your information is used only to connect donors with those in need.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I update my donor information?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        Please contact support using the email form above, and we'll help you update your information.
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>